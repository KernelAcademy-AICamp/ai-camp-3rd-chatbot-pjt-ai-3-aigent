# Copaung Code Command · PRD (제품 요구사항 정의서)

> 키워드 소싱 레이더 – 네이버/쿠팡 기반 소싱 전문가 챗봇

---

## 1. 제품 개요

- **제품명(가칭)**: Copaung Code Command  
- **서비스명(가칭)**: 키워드 소싱 레이더  
- **한 줄 정의**  
  - 네이버 검색·쇼핑 트렌드와 쿠팡 경쟁도 데이터를 바탕으로, **미래 유망 키워드**와 **니치 키워드가 섞인 제품명**을 챗봇 형태로 추천해주는 웹 서비스.

### 1.1 핵심 가치 제안

- “지금 잘 팔리는 것”이 아닌, **앞으로 뜰 키워드와 상품 콘셉트를 미리 잡게 해주는 소싱 전문가 챗봇**.
- 데이터 기반(검색량 추이, 경쟁도, 가격대)을 바탕으로 **미래 유망 키워드 Top N**과 **쿠팡 최적화 제품명**을 함께 제안.
- 엑셀 수작업 없이, **대화형 UI + 최소한의 폼 입력**만으로 분석을 실행할 수 있게 함.

---

## 2. 배경 및 문제 정의

### 2.1 배경

- 1인 셀러·소규모 쇼핑몰은 **소싱과 상품명 설계를 동시에 잘해야** 한다.
- 현실에서는:
  - 어떤 카테고리에서 어떤 키워드가 **우상향 트렌드**인지 직관적으로 알기 어렵고,
  - 해당 키워드가 쿠팡에서 **얼마나 경쟁이 치열한지** 파악하기 힘들며,
  - 제품명에 어떤 **니치 키워드 조합**을 넣어야 할지 감으로 결정하는 경우가 많다.
- 네이버 데이터랩, 쿠팡 검색, 엑셀 등을 넘나들며 **반복적인 수작업**을 수행하는 구조.

### 2.2 문제 정의

- **네이버 검색 데이터 한계**
  - 현재/과거 인기 키워드는 볼 수 있으나, **미래 검색량 예측** 관점의 워크플로우가 없다.
- **쿠팡 경쟁도 파악의 어려움**
  - 인기 키워드(예: “리유저블백”)는 이미 상품이 넘쳐나 후발주자가 상위 노출하기 어렵다.
- **제품명 최적화 어려움**
  - 어떤 서브/롱테일 키워드를 함께 사용해야 유리한지 직관적으로 알기 어렵다.
- **자동화 부족**
  - 크롤링·집계·시각화·추천을 모두 사람이 엑셀로 처리 → 시간 소모, 휴먼에러, 재사용 불가.

---

## 3. 목표 및 성공 지표

### 3.1 제품 목표

1. **미래 키워드 발굴**
   - 네이버 쇼핑/검색 트렌드 기반으로 카테고리·기간·타깃 조건을 입력하면  
     **우상향/성장 잠재력 높은 키워드 Top 10**을 제안.
2. **쿠팡 최적화 제품명 추천**
   - 선택된 키워드와 쿠팡 경쟁도를 반영해 **니치 키워드가 포함된 제품명 후보 5~10개**를 생성.
3. **대화형 분석 경험**
   - ChatGPT 스타일 챗 UI에서 “다음 시즌에 뭐가 뜰지”, “3번 제품명만 짧게 바꿔줘” 등  
     자연어로 질의·수정·후속 분석을 이어갈 수 있는 구조.
4. **운영자/분석자 입장에서도 재사용 가능한 파이프라인**
   - 네이버/쿠팡 크롤링·집계·스코어링을 재사용 가능한 분석 파이프라인으로 구축.

### 3.2 KPI (1차 베타 기준)

- **예측 성능**
  - 시계열 예측 검증 기간 MAPE ≤ 20% (카테고리별 기준은 분리).
- **상업적 성과**
  - 도입 후 3개월 내, 추천 키워드 기반 상품군의 **평균 검색량 증가** 및  
    **클릭률/전환율 개선** 사례를 내부 로그 기준으로 확보.
- **사용성**
  - “키워드 발굴” 1회 분석에 요구되는 사용자 조작 시간 ≤ 5분.
  - “제품명 추천” 한 번 응답까지의 서버 응답 시간 ≤ 5초 (LLM 기준, 네트워크 제외).

---

## 4. 타깃 유저 및 페르소나

1. **1인 셀러 / 소규모 쇼핑몰 운영자**
   - 쿠팡·오픈마켓 위주, 데이터툴에는 익숙하지 않음.
   - “다음엔 뭐가 뜰지”를 빠르게 감 잡고 싶어 함.
2. **온라인 브랜드 MD / 소싱 담당자**
   - 신규 상품 런칭 담당, 데이터 기반 근거를 요구받는 포지션.
3. **데이터에 관심 있는 셀러 (파워셀러 지향)**
   - 엑셀/간단 분석 가능, 숫자와 그래프에 친숙.
   - 시계열/경쟁도 기반으로 다음 시즌을 준비하고 싶어 함.

---

## 5. 핵심 시나리오 / 유저 스토리

### 5.1 시나리오 A – 유망 키워드 찾기

1. 로그인 후 **Lab** 화면 접속.
2. 오른쪽 패널에서 분석 조건 설정:
   - 기간(시작일/종료일), 디바이스, 성별, 연령, 카테고리 (1~3분류).
   - 부피 큰 제품 제외, 의류 제외 옵션 기본 활성화.
3. “조건을 대화에 추가” 버튼 클릭:
   - 채팅 입력창에 자연어 요약이 자동으로 붙어서 “이 조건으로 유망 키워드 Top 10 추천해줘” 같은 형태로 삽입.
4. 사용자가 챗봇에게 “이 조건으로 다음 시즌에 뜰 키워드 10개만 추려줘”라고 요청.
5. 시스템이:
   - 네이버 데이터랩 카테고리/키워드 트렌드 API 호출 → 검색량 시계열 구성.
   - 쿠팡 상품 검색 결과(상품 수, 리뷰 수, 가격대 등)와 결합해 경쟁도/마진 지표 산출.
   - 성장성·안정성·경쟁도·필터를 종합한 스코어로 Top 10 선정.
6. 챗봇 응답:
   - 키워드별 요약 카드(예측 추이, 성장률, 경쟁도, “추천 사유”)를 자연어로 설명.
   - 필요시 “3번 키워드만 계절성 설명 더 해줘” 같은 후속 대화 지원.

### 5.2 시나리오 B – 특정 상품의 니치 제품명 만들기

1. 사용자가 채팅으로 “리유저블백으로 장보기용 니치 제품명 5개만 추천해줘” 입력.
2. 필요 시 챗봇이 추가 질문:
   - “타깃 고객”, “강조 포인트(예: 친환경/대용량/휴대성)” 등.
3. 시스템이:
   - 관련 키워드 및 롱테일 검색 패턴(내부 데이터/모델)을 참고.
   - 상위 노출 상품들이 많이 쓰는 키워드 vs 꾸준하지만 덜 쓰인 니치 키워드를 구분.
4. 챗봇 응답:
   - 제품명 5~8개 + 포함 키워드, 트렌드/경쟁도 요약, 추천 이유.
   - 후속 요청(“3번만 더 짧게”, “국산 키워드 꼭 넣어서 다시 줘”) 반영.

---

## 6. 기능 요구사항 (요약)

### 6.1 인증/접근

- 이메일 기반 로그인 (Supabase Auth, 매직링크).
- 비로그인 사용자는:
  - 랜딩에서 1회 체험용 간단 제품명 추천만 사용 가능 또는
  - 아예 Lab 접근 불가 (정책 결정 후 반영).

### 6.2 대화형 인터페이스 (Lab)

- ChatGPT 스타일 단일 대화창.
- 왼쪽: 대화 로그(유저/assistant 버블).
- 오른쪽: **컨텍스트·분석 조건 패널**
  - 프로젝트 컨텍스트: (선택) 기본 상품명, 강조 포인트 태그(유저 추가/삭제 가능).
  - 분석 조건: 기간, 디바이스, 성별, 연령대, 카테고리, 필터(부피/의류 제외).
  - “조건을 대화에 추가” 버튼으로 자연어 프롬프트를 생성해 입력창에 삽입.

### 6.3 키워드 분석/예측

- 네이버 데이터랩 Shopping Insight API 기반으로:
  - 카테고리별 검색량 추이 조회 (`/categories`, `/category/keywords` 등).
  - 기간·디바이스·성별·연령 필터 반영.
- 각 키워드별:
  - 과거/최근 검색량 비교, 성장률/안정성/계절성 지표 계산.
- 시계열 모델은 초기엔 단순 통계/지수평활 → 이후 ARIMA/Prophet/LSTM로 확장.

### 6.4 쿠팡 경쟁도 분석

- 키워드별 쿠팡 검색 결과에서:
  - 노출 상품 수, 상위 n개 리뷰 수·평점·가격대, 광고 비율 등을 추출.
- “상품 수 적음 + 중간 이상 가격대 + 리뷰 성장 여지” 등을 고려해 경쟁도/마진 점수 산출.

### 6.5 유망 키워드 스코어링 & 랭킹

- 스코어 구성:
  - 성장성, 경쟁도, 마진 잠재력, 필터(비부피/비의류) 반영.
- 최종 Top N 키워드 반환 및 DB 기록 (`analysis_runs`, `keyword_scores`, `analysis_run_keywords`).

### 6.6 챗봇 응답 로직

- LLM은 Groq(OpenAI 호환) 기반.
- 시스템 프롬프트에서:
  - 인사/설명 요청에는 즉시 리스트를 뱉지 말고 대화형으로 응답.
  - 후속 요청에서 **직전 결과를 기준으로 수정**하도록 규정.
- LLM 입력에는:
  - 유저 발화 히스토리,
  - 현재 프로젝트/분석 조건 요약,
  - (가능한 경우) 실제 키워드·스코어 데이터 일부 요약을 포함.

---

## 7. 비기능 요구사항

- **성능**
  - LLM 응답 시간: 평균 3초 내, 최대 5초(네트워크/큐잉 제외).
  - 네이버/쿠팡 데이터 수집은 비동기 배치 + 캐시를 활용해 사용자가 기다리는 시간 최소화.
- **보안**
  - LLM API 키, Naver OpenAPI 키, 쿠팡 관련 크레덴셜은 서버 환경변수로만 관리.
  - 브라우저에 노출되는 키 없음.
- **로그/분석**
  - `chat_sessions`, `chat_messages`, `analysis_runs`를 통해 사용 행태 분석 가능.
  - 필요한 경우 `chat_logs`/`product_name_candidates`로 집계.

---

## 8. 단계별 범위 (MVP 기준)

1. **MVP v0**
   - 로그인 + Lab 챗 UI.
   - Groq LLM 기반 “가짜” 데이터로 제품명 추천 (현재 상태).
2. **MVP v1**
   - 네이버 DataLab 테스트 페이지 → 실제 카테고리/키워드 트렌드 조회.
   - `analysis_runs`/`keyword_*` 테이블에 저장.
   - Lab 챗봇에서 해당 결과를 요약해 사용하는 단계.
3. **v2 이후**
   - 쿠팡 경쟁도 크롤링/스코어링 본격 반영.
   - 키워드 예측(모델링) 고도화.
   - 프로젝트/세션별 히스토리 기반 “다음 소싱 우선순위” 추천.

